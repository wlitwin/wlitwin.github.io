<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Text (graphv.Graphv_gles2_native.Text)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">graphv</a> &#x00BB; <a href="../index.html">Graphv_gles2_native</a> &#x00BB; Text</nav><h1>Module <code>Graphv_gles2_native.Text</code></h1><p>Module for text rendering. Text is rendered using a glyph bitmap. The default bitmap size is 2048x2048. It is possible to run out of space in this bitmap so try to be conservative with font sizes and number of fonts. Glyphs are grouped by font, size, and blur. A glyph will be rendered once per combination of properties.</p></header><dl><dt class="spec type" id="type-font"><a href="#type-font" class="anchor"></a><code><span class="keyword">type</span> font</code></dt><dt class="spec type" id="type-bounds"><a href="#type-bounds" class="anchor"></a><code><span class="keyword">type</span> bounds</code><code> = </code><code>{</code><table class="record"><tr id="type-bounds.box" class="anchored"><td class="def field"><a href="#type-bounds.box" class="anchor"></a><code>box : <a href="../Bounds/index.html#type-t">Bounds.t</a>;</code></td></tr><tr id="type-bounds.advance" class="anchored"><td class="def field"><a href="#type-bounds.advance" class="anchor"></a><code>advance : float;</code></td></tr></table><code>}</code></dt></dl><dl><dt class="spec value" id="val-text"><a href="#val-text" class="anchor"></a><code><span class="keyword">val</span> text : <a href="../index.html#type-t">t</a> <span>&#45;&gt;</span> <span>x:float</span> <span>&#45;&gt;</span> <span>y:float</span> <span>&#45;&gt;</span> <span>?&#8288;start:int</span> <span>&#45;&gt;</span> <span>?&#8288;end_:int</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> unit</code></dt><dd><p>Draw a text substring with the current font at the specified location.</p><dl><dt>parameter x</dt><dd><p>The x location to draw the font at. Depending on the current alignment this parameter may represent the center, bottom left, right, etc.</p></dd></dl><dl><dt>parameter y</dt><dd><p>The y location to draw the font at. Depending on the current alignment this parameter may represent the center, bottom, top, etc.</p></dd></dl><dl><dt>parameter start</dt><dd><p>The starting index of the string. Defaults to 0.</p></dd></dl><dl><dt>parameter end_</dt><dd><p>The ending index. Defaults to the end of the string.</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-text_w"><a href="#val-text_w" class="anchor"></a><code><span class="keyword">val</span> text_w : <a href="../index.html#type-t">t</a> <span>&#45;&gt;</span> <span>x:float</span> <span>&#45;&gt;</span> <span>y:float</span> <span>&#45;&gt;</span> <span>?&#8288;start:int</span> <span>&#45;&gt;</span> <span>?&#8288;end_:int</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> float</code></dt><dd><p>Same as <a href="index.html#val-text"><code>text</code></a> except it returns the rendered length.</p></dd></dl><dl><dt class="spec value" id="val-find_font"><a href="#val-find_font" class="anchor"></a><code><span class="keyword">val</span> find_font : <a href="../index.html#type-t">t</a> <span>&#45;&gt;</span> <span>name:string</span> <span>&#45;&gt;</span> <span><a href="index.html#type-font">font</a> option</span></code></dt><dt class="spec value" id="val-set_size"><a href="#val-set_size" class="anchor"></a><code><span class="keyword">val</span> set_size : <a href="../index.html#type-t">t</a> <span>&#45;&gt;</span> <span>size:float</span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Set the font size in pixel units. Warning: If this font size has not been used yet the glyphs will be generated on demand. This may cause a performance hit on the first rendering at this size. Try to avoid using many different sizes.</p></dd></dl><dl><dt class="spec value" id="val-set_blur"><a href="#val-set_blur" class="anchor"></a><code><span class="keyword">val</span> set_blur : <a href="../index.html#type-t">t</a> <span>&#45;&gt;</span> <span>blur:float</span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Set the current blur, in pixel units</p></dd></dl><dl><dt class="spec value" id="val-set_line_height"><a href="#val-set_line_height" class="anchor"></a><code><span class="keyword">val</span> set_line_height : <a href="../index.html#type-t">t</a> <span>&#45;&gt;</span> <span>height:float</span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Set the spacing between lines</p></dd></dl><dl><dt class="spec value" id="val-set_letter_spacing"><a href="#val-set_letter_spacing" class="anchor"></a><code><span class="keyword">val</span> set_letter_spacing : <a href="../index.html#type-t">t</a> <span>&#45;&gt;</span> <span>spacing:float</span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Set the spacing between letters</p></dd></dl><dl><dt class="spec value" id="val-set_align"><a href="#val-set_align" class="anchor"></a><code><span class="keyword">val</span> set_align : <a href="../index.html#type-t">t</a> <span>&#45;&gt;</span> <span>align:<a href="../Align/index.html#type-t">Align.t</a></span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Set the alignment for rendered text. This changes the x,y origin for the rendered text.</p></dd></dl><dl><dt class="spec value" id="val-set_font_face"><a href="#val-set_font_face" class="anchor"></a><code><span class="keyword">val</span> set_font_face : <a href="../index.html#type-t">t</a> <span>&#45;&gt;</span> <span>name:string</span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Change the font by name</p></dd></dl><dl><dt class="spec value" id="val-set_font_face_id"><a href="#val-set_font_face_id" class="anchor"></a><code><span class="keyword">val</span> set_font_face_id : <a href="../index.html#type-t">t</a> <span>&#45;&gt;</span> <span>id:int</span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Change the font by id</p></dd></dl><dl><dt class="spec value" id="val-create"><a href="#val-create" class="anchor"></a><code><span class="keyword">val</span> create : <a href="../index.html#type-t">t</a> <span>&#45;&gt;</span> <span>name:string</span> <span>&#45;&gt;</span> <span>file:string</span> <span>&#45;&gt;</span> <span><a href="index.html#type-font">font</a> option</span></code></dt><dd><p>Create a new font</p></dd></dl><dl><dt class="spec value" id="val-bounds"><a href="#val-bounds" class="anchor"></a><code><span class="keyword">val</span> bounds : <a href="../index.html#type-t">t</a> <span>&#45;&gt;</span> <span>x:float</span> <span>&#45;&gt;</span> <span>y:float</span> <span>&#45;&gt;</span> <span>?&#8288;start:int</span> <span>&#45;&gt;</span> <span>?&#8288;end_:int</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="index.html#type-bounds">bounds</a></code></dt></dl><dl><dt class="spec type" id="type-metrics"><a href="#type-metrics" class="anchor"></a><code><span class="keyword">type</span> metrics</code><code> = </code><code>{</code><table class="record"><tr id="type-metrics.ascender" class="anchored"><td class="def field"><a href="#type-metrics.ascender" class="anchor"></a><code>ascender : float;</code></td></tr><tr id="type-metrics.descender" class="anchored"><td class="def field"><a href="#type-metrics.descender" class="anchor"></a><code>descender : float;</code></td></tr><tr id="type-metrics.line_height" class="anchored"><td class="def field"><a href="#type-metrics.line_height" class="anchor"></a><code>line_height : float;</code></td></tr></table><code>}</code></dt></dl><dl><dt class="spec value" id="val-metrics"><a href="#val-metrics" class="anchor"></a><code><span class="keyword">val</span> metrics : <a href="../index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-metrics">metrics</a></code></dt></dl><dl><dt class="spec type" id="type-text_row"><a href="#type-text_row" class="anchor"></a><code><span class="keyword">type</span> text_row</code><code> = </code><code>{</code><table class="record"><tr id="type-text_row.start_index" class="anchored"><td class="def field"><a href="#type-text_row.start_index" class="anchor"></a><code>start_index : int;</code></td></tr><tr id="type-text_row.end_index" class="anchored"><td class="def field"><a href="#type-text_row.end_index" class="anchor"></a><code>end_index : int;</code></td></tr><tr id="type-text_row.width" class="anchored"><td class="def field"><a href="#type-text_row.width" class="anchor"></a><code>width : float;</code></td></tr><tr id="type-text_row.minx" class="anchored"><td class="def field"><a href="#type-text_row.minx" class="anchor"></a><code>minx : float;</code></td></tr><tr id="type-text_row.maxx" class="anchored"><td class="def field"><a href="#type-text_row.maxx" class="anchor"></a><code>maxx : float;</code></td></tr><tr id="type-text_row.next" class="anchored"><td class="def field"><a href="#type-text_row.next" class="anchor"></a><code>next : int;</code></td></tr></table><code>}</code></dt></dl><dl><dt class="spec value" id="val-break_lines"><a href="#val-break_lines" class="anchor"></a><code><span class="keyword">val</span> break_lines : <a href="../index.html#type-t">t</a> <span>&#45;&gt;</span> <span>break_width:float</span> <span>&#45;&gt;</span> <span>max_rows:int</span> <span>&#45;&gt;</span> <span>?&#8288;start:int</span> <span>&#45;&gt;</span> <span>?&#8288;end_:int</span> <span>&#45;&gt;</span> <span>lines:<span><a href="index.html#type-text_row">text_row</a> array</span></span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> int</code></dt><dd><p>Layout lines of text in <code>break_width</code> size rows.</p><dl><dt>parameter break_width</dt><dd><p>The maximum width of a row</p></dd></dl><dl><dt>parameter max_rows</dt><dd><p>The maximum number of rows to layout. This allows the <code>lines</code> parameter to be used accross different calls to save allocations.</p></dd></dl><dl><dt>parameter start</dt><dd><p>The starting index of the string to layout, defaults to 0.</p></dd></dl><dl><dt>parameter end_</dt><dd><p>The ending index of the string to layout, default to the end of the string.</p></dd></dl><dl><dt>returns</dt><dd><p>The number of rows created.</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-make_empty_rows"><a href="#val-make_empty_rows" class="anchor"></a><code><span class="keyword">val</span> make_empty_rows : int <span>&#45;&gt;</span> <span><a href="index.html#type-text_row">text_row</a> array</span></code></dt><dd><p>Helper function to initialize an empty array of rows</p></dd></dl><dl><dt class="spec type" id="type-glyph_position"><a href="#type-glyph_position" class="anchor"></a><code><span class="keyword">type</span> glyph_position</code><code> = </code><code>{</code><table class="record"><tr id="type-glyph_position.index" class="anchored"><td class="def field"><a href="#type-glyph_position.index" class="anchor"></a><code>index : int;</code></td></tr><tr id="type-glyph_position.x" class="anchored"><td class="def field"><a href="#type-glyph_position.x" class="anchor"></a><code>x : float;</code></td></tr><tr id="type-glyph_position.min_x" class="anchored"><td class="def field"><a href="#type-glyph_position.min_x" class="anchor"></a><code>min_x : float;</code></td></tr><tr id="type-glyph_position.max_x" class="anchored"><td class="def field"><a href="#type-glyph_position.max_x" class="anchor"></a><code>max_x : float;</code></td></tr></table><code>}</code></dt><dd><p>Used to get glyph positions within a rendered string. Can be used for selections or other screen based picking.</p></dd></dl><dl><dt class="spec value" id="val-empty_glyph_position"><a href="#val-empty_glyph_position" class="anchor"></a><code><span class="keyword">val</span> empty_glyph_position : <a href="index.html#type-glyph_position">glyph_position</a></code></dt><dd><p>A <a href="index.html#type-glyph_position"><code>glyph_position</code></a> initialized to all zeros.</p></dd></dl><dl><dt class="spec value" id="val-glyph_positions"><a href="#val-glyph_positions" class="anchor"></a><code><span class="keyword">val</span> glyph_positions : <a href="../index.html#type-t">t</a> <span>&#45;&gt;</span> <span>x:float</span> <span>&#45;&gt;</span> <span>y:float</span> <span>&#45;&gt;</span> <span>?&#8288;start:int</span> <span>&#45;&gt;</span> <span>?&#8288;end_:int</span> <span>&#45;&gt;</span> <span>glyphs:<span><a href="index.html#type-glyph_position">glyph_position</a> array</span></span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> int</code></dt><dt class="spec value" id="val-text_box"><a href="#val-text_box" class="anchor"></a><code><span class="keyword">val</span> text_box : <a href="../index.html#type-t">t</a> <span>&#45;&gt;</span> <span>x:float</span> <span>&#45;&gt;</span> <span>y:float</span> <span>&#45;&gt;</span> <span>break_width:float</span> <span>&#45;&gt;</span> <span>?&#8288;start:int</span> <span>&#45;&gt;</span> <span>?&#8288;end_:int</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-box_bounds"><a href="#val-box_bounds" class="anchor"></a><code><span class="keyword">val</span> box_bounds : <a href="../index.html#type-t">t</a> <span>&#45;&gt;</span> <span>x:float</span> <span>&#45;&gt;</span> <span>y:float</span> <span>&#45;&gt;</span> <span>break_width:float</span> <span>&#45;&gt;</span> <span>?&#8288;start:int</span> <span>&#45;&gt;</span> <span>?&#8288;end_:int</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="../Bounds/index.html#type-t">Bounds.t</a></code></dt><dt class="spec value" id="val-add_fallback_id"><a href="#val-add_fallback_id" class="anchor"></a><code><span class="keyword">val</span> add_fallback_id : <a href="../index.html#type-t">t</a> <span>&#45;&gt;</span> <span>font:<a href="index.html#type-font">font</a></span> <span>&#45;&gt;</span> <span>fallback:<a href="index.html#type-font">font</a></span> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-add_fallback"><a href="#val-add_fallback" class="anchor"></a><code><span class="keyword">val</span> add_fallback : <a href="../index.html#type-t">t</a> <span>&#45;&gt;</span> <span>name:string</span> <span>&#45;&gt;</span> <span>fallback:string</span> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-reset_fallback_id"><a href="#val-reset_fallback_id" class="anchor"></a><code><span class="keyword">val</span> reset_fallback_id : <a href="../index.html#type-t">t</a> <span>&#45;&gt;</span> <span>font:<a href="index.html#type-font">font</a></span> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-reset_fallback"><a href="#val-reset_fallback" class="anchor"></a><code><span class="keyword">val</span> reset_fallback : <a href="../index.html#type-t">t</a> <span>&#45;&gt;</span> <span>name:string</span> <span>&#45;&gt;</span> unit</code></dt></dl></div></body></html>